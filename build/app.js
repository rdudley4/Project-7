var getFiles=function(a){var b='media/'+a+'/';return{sources:[b+'video.mp4',b+'video.ogg'],caption:b+'captions.vtt',thumbnail:b+'thumbnail.png'}},videos=[new Video(getFiles('video1').sources,getFiles('video1').caption,getFiles('video1').thumbnail,'How the Internet Works'),new Video(getFiles('video2').sources,getFiles('video2').caption,getFiles('video2').thumbnail,'JavaScript and the DOM'),new Video(getFiles('video3').sources,getFiles('video3').caption,getFiles('video3').thumbnail,'Overview of Web Media'),new Video(getFiles('video4').sources,getFiles('video4').caption,getFiles('video4').thumbnail,'Quiz Application Project'),new Video(getFiles('video5').sources,getFiles('video5').caption,getFiles('video5').thumbnail,'The Meaning of Life')],playlist=new Playlist(videos);UI.updateVideo(),videoElement.onloadedmetadata=function(){console.log('Metadata has finished loading.');var a=document.getElementById('caption'),b=playlist.getVideoInfo().captionSrc;this.replaceChild(UI.createCaptionTrack(b),a),UI.reset(this)},videoElement.ontimeupdate=function(){if(UI.updateTime(Math.round(this.currentTime),Math.round(this.duration)),0<this.buffered.length&&playlist.getVideoInfo().isBuffering()){var a=this.buffered.end(this.buffered.length-1);UI.updateBufferedAmount(a)}UI.updateProgressBar(),UI.highlightTranscript(),playlist.currentVideoIndex===playlist.videos.length-1&&playlist.getVideoInfo().isPlaying()&&null!==transcript.getAttribute('style')&&(transcript.removeAttribute('style'),rolled=!0,UI.showMessage())},videoElement.onended=function(){UI.playPauseDisplayHandler()};var volumeSlider=document.getElementById('volume__slider');!navigator.userAgent.match(/Trident\/7\./)?(console.info('Sane Browser Detected, using normal event handlers.'),volumeSlider.oninput=function(){videoElement.volume=this.value,UI.updateVolIndicator(Math.round(100*this.value))},progressBar.oninput=function(){videoElement.currentTime=this.value}):(console.info('Internet Explorer Detected, using special snowflake event handlers.'),volumeSlider.onchange=function(){videoElement.volume=this.value,UI.updateVolIndicator(Math.round(100*this.value))},progressBar.onchange=function(){videoElement.currentTime=this.value}),videoElement.addEventListener('click',function(){UI.playPause()});var laptop=1366;videoContainer.addEventListener('mouseover',function(){window.innerWidth>=laptop&&UI.controlsDisplay('show')}),videoContainer.addEventListener('mouseleave',function(){window.innerWidth>=laptop&&UI.controlsDisplay('hide')});var nextButton=document.getElementById('next'),nextInfo=document.getElementById('next_info');nextButton.addEventListener('click',function(){playlist.next()}),nextButton.addEventListener('mouseover',function(){nextInfo.style.right='-250px',nextInfo.style.opacity='1'}),nextButton.addEventListener('mouseleave',function(){nextInfo.removeAttribute('style')});var prevButton=document.getElementById('prev'),prevInfo=document.getElementById('prev_info');prevButton.addEventListener('click',function(){playlist.prev()}),prevButton.addEventListener('mouseover',function(){prevInfo.style.left='-250px',prevInfo.style.opacity='1'}),prevButton.addEventListener('mouseleave',function(){prevInfo.removeAttribute('style')});var playButton=document.getElementById('play');playButton.addEventListener('click',function(){UI.playPause()});var pauseButton=document.getElementById('pause');pauseButton.addEventListener('click',function(){UI.playPause()});var captionButton=document.getElementById('cc');captionButton.addEventListener('click',function(){var a=videoElement.textTracks[0];UI.captionHandler(this,a)});var fullscreenButton=document.getElementById('fullscreen');fullscreenButton.addEventListener('click',function(){playlist.getVideoInfo().makeFullscreen()});var pbRateButton=document.getElementById('pb-rate');pbRateButton.addEventListener('click',function(){UI.changePlaybackRate()});var rewindButton=document.getElementById('rewind');rewindButton.addEventListener('click',function(){playlist.getVideoInfo().rewind()});var muteButton=document.getElementById('unmuted');muteButton.addEventListener('click',function(){UI.muteHandler()});var unmuteButton=document.getElementById('muted');unmuteButton.addEventListener('click',function(){UI.muteHandler()}),document.onkeypress=function(a){var b=a.which;43===b?playlist.next():45===b?playlist.prev():102===b?playlist.getVideoInfo().makeFullscreen():107===b?UI.playPause():106===b?playlist.getVideoInfo().rewind():108===b?playlist.getVideoInfo().fastForward():109===b?UI.muteHandler():112===b?UI.changePlaybackRate():99===b?UI.captionHandler(captionButton,videoElement.textTracks[0]):void 0};